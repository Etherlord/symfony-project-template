parameters:
    projectDirectory: "%currentWorkingDirectory%"

deptrac:
    analyser:
        types:
            - class
            - class_superglobal
            - file
            - function
            - function_superglobal
            - use

    paths:
        - src/

    layers:
        - name: Feature
          collectors:
              - type: classNameRegex
                value: '/^App\\Feature\\.*$/'

        - name: Fixtures
          collectors:
              - type: classNameRegex
                value: '/^App\\Fixtures\\.*$/'

        - name: Http
          collectors:
              - type: classNameRegex
                value: '/^App\\Http\\.*$/'

        - name: Infrastructure
          collectors:
              - type: classNameRegex
                value: '/^App\\Infrastructure\\.*$/'

    ruleset:
        Feature:
            - Infrastructure
        Fixtures:
            - Infrastructure
            - Feature
        Http:
            - Infrastructure
            - Feature
