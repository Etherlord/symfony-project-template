parameters:
    projectDirectory: "%currentWorkingDirectory%"

deptrac:
    analyser:
        types:
            - class
            - class_superglobal
            - file
            - function
            - function_superglobal
            - use

    paths:
        - bin
        - config
        - migrations
        - public
        - src
        - src-dev
        - tests

    layers:
        - name: bin
          collectors:
              - type: directory
                value: bin/.*

        - name: config
          collectors:
              - type: directory
                value: config/.*

        - name: migrations
          collectors:
              - type: directory
                value: migrations/.*

        - name: public
          collectors:
              - type: directory
                value: public/.*

        - name: src
          collectors:
              - type: directory
                value: src/.*

        - name: src_dev
          collectors:
              - type: directory
                value: src-dev/.*

        - name: tests
          collectors:
            - type: bool
              must:
                - type: directory
                  value: ^tests/.*
              must_not:
                - type: directory
                  value: ^src-dev/.*

    ruleset:
        bin:
            - src
        config:
            - src
            - src_dev
        migrations: ~
        public:
            - src
        src: ~
        src_dev:
            - src
            - src_dev
        tests:
            - src
            - src_dev
            - tests